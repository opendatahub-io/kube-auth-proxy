# Gitleaks configuration for kube-auth-proxy
# Documentation: https://github.com/gitleaks/gitleaks#configuration

title = "Gitleaks configuration for kube-auth-proxy"

[allowlist]
description = "Allowlisted files - test fixtures, mock data, and local development configs"

# Exclude paths using regex patterns
paths = [
  # All testdata directories (contain mock Kubernetes secrets, test configs)
  '''.*/testdata/.*''',

  # All test files (may contain mock credentials for testing)
  '''.*_test\.go$''',
  '''.*_mock\.go$''',

  # Example files (contain JWT tokens and test configs for documentation)
  '''.*/examples/.*''',

  # Local development environment configs (OAuth2 proxy, Dex, Keycloak)
  '''contrib/local-environment/.*''',

  # E2E test fixtures
  '''kube-rbac-proxy/test/e2e/.*'''
]

# No custom rules needed - using Gitleaks defaults
